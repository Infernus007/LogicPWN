---
title: Cache
description: API documentation for the Cache module in LogicPwn framework
category: Utilities
sidebar:
  order: 91
---

import { Code, Aside, Steps, Tabs, TabItem } from '@astrojs/starlight/components';

**Category:** Utilities
**Navigation:** [API Reference](../)

API documentation for the `logicpwn.core.cache` module.

## Import

```python
import logicpwn.core.cache
# or
from logicpwn.core.cache import *
```


## Quick Examples

### Basic Usage

```python
from logicpwn.core.exploit_engine import load_exploit_chain_from_file, run_exploit_chain
import requests

# Load and execute a simple exploit chain
session = requests.Session()
chain = load_exploit_chain_from_file("examples/simple_exploit_corrected.yaml")
results = run_exploit_chain(session, chain)

# Analyze results
for result in results:
    print(f"Step: {result.step_name}")
    print(f"Status: {result.status}")
    print(f"Time: {result.execution_time:.2f}s")
```

### Real-World IDOR Testing

```python
from logicpwn.core.access import detect_idor_flaws
from logicpwn.core.auth import AuthConfig, authenticate_session

# Setup authentication
auth_config = AuthConfig(
    url="https://api.example.com/login",
    credentials={"username": "user", "password": "pass"},
    success_indicators=["access_token"]
)

session = authenticate_session(auth_config)

# Test for IDOR vulnerabilities
results = detect_idor_flaws(
    session,
    "https://api.example.com/users/{id}/profile",
    test_ids=["1", "2", "3", "admin", "999"],
    success_indicators=["user_data", "profile"],
    failure_indicators=["unauthorized", "403"]
)
```


## Classes

:::note[Available Classes]
This module provides 2 class(es) for utilities.
:::

### ResponseCache

<Tabs>
<TabItem label="Overview">

```python
class ResponseCache:
    """
    Class documentation.
    """
```

The `ResponseCache` class provides core functionality for this module.

</TabItem>
<TabItem label="Constructor">

```python
def __init__(self, max_size: int = 500, default_ttl: int = 300)
```

Initialize a new instance of `ResponseCache`.

</TabItem>
</Tabs>

#### Methods

##### get_response

:::note[Method]
Instance method
:::

```python
def get_response(self, url: str, method: str, params: Optional[dict] = None, headers: Optional[dict] = None) -> Optional[Any]
```

Documentation for `get_response` is not available.

##### set_response

:::note[Method]
Instance method
:::

```python
def set_response(self, url: str, method: str, response: Any, params: Optional[dict] = None, headers: Optional[dict] = None, ttl: Optional[int] = None) -> None
```

Documentation for `set_response` is not available.


---

### SessionCache

<Tabs>
<TabItem label="Overview">

```python
class SessionCache:
    """
    Enhanced session cache that provides intelligent caching for authenticated sessions
    """
```

Enhanced session cache that provides intelligent caching for authenticated sessions.

Features:
- Stable session ID generation (excludes dynamic tokens)
- Session validation before returning cached sessions
- Automatic cleanup of expired/invalid sessions
- Cache statistics and monitoring

</TabItem>
<TabItem label="Constructor">

```python
def __init__(self, max_size: int = 100, default_ttl: int = 3600)
```

Initialize a new instance of `SessionCache`.

</TabItem>
</Tabs>

#### Methods

##### cleanup_expired_sessions

:::note[Method]
Instance method
:::

```python
def cleanup_expired_sessions(self) -> int
```

Clean up expired sessions from cache.

**Returns:**
 Number of sessions removed

##### clear_all_sessions

:::note[Method]
Instance method
:::

```python
def clear_all_sessions(self) -> None
```

Clear all cached sessions.

##### generate_stable_session_id

:::note[Method]
Instance method
:::

```python
def generate_stable_session_id(self, auth_config) -> str
```

Generate a stable session ID excluding dynamic tokens.

This method creates cache keys that remain consistent across
requests even when dynamic tokens (like CSRF tokens) change.

**Args:**
- **auth_config**: Authentication configuration object

**Returns:**
 Stable session ID string

##### get_cache_stats

:::note[Method]
Instance method
:::

```python
def get_cache_stats(self) -> dict[str, typing.Any]
```

Get comprehensive cache statistics.

**Returns:**
 Dictionary containing cache statistics

##### get_session

:::note[Method]
Instance method
:::

```python
def get_session(self, session_id: str) -> Optional[Any]
```

Get cached session by ID.

**Args:**
- **session_id**: Stable session ID (should exclude dynamic tokens)

**Returns:**
 Cached session if found and valid, None otherwise

##### invalidate_session

:::note[Method]
Instance method
:::

```python
def invalidate_session(self, session_id: str) -> bool
```

Invalidate and remove a cached session.

**Args:**
- **session_id**: Session ID to invalidate

**Returns:**
 True if session was found and removed, False otherwise

##### list_cached_sessions

:::note[Method]
Instance method
:::

```python
def list_cached_sessions(self) -> list[dict[str, typing.Any]]
```

List all cached sessions with metadata.

**Returns:**
 List of dictionaries containing session info

##### set_session

:::note[Method]
Instance method
:::

```python
def set_session(self, session_id: str, session: Any, ttl: Optional[int] = None) -> None
```

Cache a session with optional TTL override.

**Args:**
- **session_id**: Stable session ID (should exclude dynamic tokens)

- **session**: Session object to cache

- **ttl**: Optional TTL override in seconds


---

## Functions

:::note[Available Functions]
This module provides 3 function(s) for direct use.
:::

### cached

:::note[Function]
Module function
:::

```python
def cached(ttl: int = 300, key_func: Optional[Callable] = None)
```

Documentation for `cached` is not available.

### clear_all_caches

:::note[Function]
Module function
:::

```python
def clear_all_caches() -> None
```

Documentation for `clear_all_caches` is not available.

### get_cache_stats

:::note[Function]
Module function
:::

```python
def get_cache_stats() -> dict[str, dict]
```

Documentation for `get_cache_stats` is not available.


## Related Modules

:::tip[Utilities Modules]
Explore other modules in the Utilities category:

- **[Utils](./utils)** - General utilities
- **[Config](./config)** - Configuration management
- **[Performance](./performance)** - Performance monitoring
:::
